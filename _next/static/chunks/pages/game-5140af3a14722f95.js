(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[203],{3874:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/game",function(){return n(5277)}])},8819:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var r=n(5893),o=n(9630),u=n(7294);function l(e){let{boardTiles:t,focusingBoard:n,boardFocus:l,push:c}=e,[s,a]=(0,u.useState)({x:0,y:0}),[i,f]=(0,u.useState)({x:0,y:0}),d=e=>{a({x:e.touches[0].clientX,y:e.touches[0].clientY})},h=e=>{f({x:e.touches[0].clientX,y:e.touches[0].clientY})},x=()=>{let e=i.x-s.x,t=i.y-s.y;Math.abs(e)>Math.abs(t)?e>0?c("r"):c("l"):t>0?c("d"):c("u")};return(0,r.jsx)("div",{className:"board",ref:l,onBlur:n,onKeyDown:function(e){"ArrowLeft"===e.key?c("l"):"ArrowRight"===e.key?c("r"):"ArrowUp"===e.key?c("u"):"ArrowDown"===e.key&&c("d")},tabIndex:"0",onTouchStart:d,onTouchMove:h,onTouchEnd:x,children:null==t?void 0:t.map((e,t)=>(0,r.jsx)(o.default,{number:e},t))})}},2540:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(5893);function o(e){let{handleUndo:t,startNewGame:n,focusingBoard:o,undoCount:u}=e;return(0,r.jsxs)("div",{className:"button-container",children:[(0,r.jsxs)("button",{className:"undo-button",onClick:t,onFocus:o,children:[(0,r.jsx)("span",{className:"undo-count",children:Array(u).fill("❤️").join("")}),0===u&&(0,r.jsx)("span",{children:"Make a heart!!!"})]}),(0,r.jsx)("button",{className:"start-button",onClick:n,onFocus:o,children:"NEW GAME"})]})}n(7294)},5277:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var r=n(5893),o=n(7294);function u(e){let t=0,n=0;do t=Math.floor(4*Math.random()),n=Math.floor(4*Math.random());while(0!==e[4*t+n]);let r=[...e];return r[4*t+n]=.8>Math.random()?2:4,r}var l=n(8423),c=n(2540),s=n(8819),a=n(2489),i=n(9417),f=n(6455),d=n.n(f),h=n(7630),x=n.n(h);function m(){let[e,t]=(0,o.useState)([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),[n,f]=(0,o.useState)(0),[h,m]=(0,o.useState)(0),[j,v]=(0,o.useState)(500),[N,b]=(0,o.useState)(!1),[w,g]=(0,o.useState)([]),y=(0,o.useRef)(null),E=(0,r.jsx)("div",{children:(0,r.jsx)(a.G,{icon:i.bmm,style:{fontSize:"70px",color:"black"}})}),S=(0,r.jsx)("div",{children:(0,r.jsx)(a.G,{icon:i.lJX,style:{fontSize:"70px",color:"gold"}})});function k(){!function(e){if(!e||e.includes(0))return!0;for(let t=0;t<4;t++)for(let n=0;n<3;n++){let r=4*t+n;if(e[r]===e[r+1])return!0}for(let t=0;t<3;t++)for(let n=0;n<4;n++){let r=4*t+n;if(e[r]===e[r+4])return!0}return!1}(e)?p("GAME OVER!",E,"I'm done.TnT","Start a new game!"):!N&&e.includes(2048)&&(p("YOU WIN!!!",S,"Continue playing!","Start a new game!"),b(!0))}function p(e,t,n,r){setTimeout(()=>{let o=x()(d());o.fire({title:e,html:t,showCancelButton:!0,confirmButtonText:n,cancelButtonText:r}).then(e=>{e.value||M()})},700)}function M(){t(u(u([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]))),f(0),b(!1),m(0),v(500),g([])}function _(){y.current.focus()}return(0,o.useEffect)(()=>{k()},[e]),(0,o.useEffect)(()=>{h<5&&j<=0&&(m(h+1),v(500+j))},[n]),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"board-container",children:[(0,r.jsx)("div",{className:"game",children:"GAME"}),(0,r.jsx)("div",{className:"game-name",children:"2048"}),N&&(0,r.jsx)("div",{className:"win-message",children:"YOU WIN!"}),(0,r.jsx)(l.default,{score:n})]}),(0,r.jsx)(s.default,{focusingBoard:_,boardTiles:e,boardFocus:y,push:function(r){let o=!1,l=[],c=0;if("l"===r?[o,l,c]=function(e){let t=!1,n=0,r=[...e];for(let e=0;e<4;e++){let o=0,u=0;for(let l=0;l<4;l++)0!==r[4*e+l]&&(o!==r[4*e+l]?(o=r[4*e+l],r[4*e+l]=0,r[4*e+u]=o,l!==u&&(t=!0),u++):o===r[4*e+l]&&(r[4*e+u-1]=2*o,r[4*e+l]=0,n+=2*o,o=0,t=!0))}return[t,r,n]}([...e]):"r"===r?[o,l,c]=function(e){let t=!1,n=0,r=[...e];for(let e=0;e<4;e++){let o=0,u=3;for(let l=3;l>=0;l--)0!==r[4*e+l]&&(o!==r[4*e+l]?(o=r[4*e+l],r[4*e+l]=0,r[4*e+u]=o,l!==u&&(t=!0),u--):o===r[4*e+l]&&(r[4*e+u+1]=2*o,r[4*e+l]=0,n+=2*o,o=0,t=!0))}return[t,r,n]}([...e]):"u"===r?[o,l,c]=function(e){let t=!1,n=0,r=[...e];for(let e=0;e<4;e++){let o=0,u=0;for(let l=0;l<4;l++)0!==r[4*l+e]&&(o!==r[4*l+e]?(o=r[4*l+e],r[4*l+e]=0,r[4*u+e]=o,l!==u&&(t=!0),u++):o===r[4*l+e]&&(r[4*(u-1)+e]=2*o,r[4*l+e]=0,n+=2*o,o=0,t=!0))}return[t,r,n]}([...e]):"d"===r&&([o,l,c]=function(e){let t=!1,n=0,r=[...e];for(let e=0;e<4;e++){let o=0,u=3;for(let l=3;l>=0;l--)0!==r[4*l+e]&&(o!==r[4*l+e]?(o=r[4*l+e],r[4*l+e]=0,r[4*u+e]=o,l!==u&&(t=!0),u--):o===r[4*l+e]&&(r[4*(u+1)+e]=2*o,r[4*l+e]=0,n+=2*o,o=0,t=!0))}return[t,r,n]}([...e])),o){t(u(l)),f(n+c),v(j-c),k();let r=[...w,[...e]];r.length>5&&r.shift(),g(r)}}}),(0,r.jsx)(c.default,{handleUndo:function(){if(h>0&&w.length>0){let e=w[w.length-1];t([...e]),m(h-1),v(500),g(w.slice(0,-1))}},focusingBoard:_,undoCount:h,startNewGame:M})]})}},8423:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return o}});var r=n(5893);function o(e){let{score:t}=e;return(0,r.jsxs)("div",{className:"score-container",children:[(0,r.jsx)("div",{className:"score-label",children:"SCORE"}),(0,r.jsx)("div",{className:"score-value",children:t})]})}n(7294)},9630:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var r=n(5893);let o=new Map([[0,[187,173,160]],[2,[248,231,28]],[4,[242,202,24]],[8,[245,159,27]],[16,[246,122,29]],[32,[242,83,34]],[64,[210,30,40]],[128,[241,45,98]],[256,[234,33,126]],[512,[191,33,128]],[1024,[149,33,135]],[2048,[98,33,138]],[4096,[74,0,128]]]);function u(e){let{number:t}=e,[n,u,l]=o.get(t)||[38,153,50],c={backgroundColor:"rgb(".concat(n,", ").concat(u,", ").concat(l,")")};return(0,r.jsx)("div",{className:"tile",style:c,children:0===t?"":t})}}},function(e){e.O(0,[976,116,774,888,179],function(){return e(e.s=3874)}),_N_E=e.O()}]);